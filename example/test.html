<!doctype html>
<html>
<head>
    <title></title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
    <script type="text/javascript" src="../clients/js/lib/utils.js"></script>
    <script type="text/javascript" src="../clients/js/lib/errorstorage.js"></script>
    <script type="text/javascript" src="../clients/js/lib/errorhandler.js"></script>
    <script type="text/javascript" src="../clients/js/lib/jsontostring.js"></script>
    <script type="text/javascript" src="../clients/js/lib/shiterator.js"></script>
</head>
<body>
    <button>Throw me an error!</button>
    <script type="text/javascript">
        var shiterator = new Shiterator(function(error) {
               error.tracker = {
                    priority: 2,
                    id : 8,
                    project : 4
               };

               // setting custom fields:
               error.custom.ua = navigator.userAgent;
            }, {
            host: 'localhost',
            port: 6060,

            // do not report error from following browsers
            ignoreBrowsers: {
                msie: 6,        // IE 6-
                opera: 11.11,   // opera 11.11-
                mozilla: 1.8    // firefox 2-
            },
            // accept errors only from the same domain
            acceptErrors: "domain"
        });

        shiterator.start();
        $('button').click(function() {
            a.v = 1;
        });
    </script>
</body>
</html>