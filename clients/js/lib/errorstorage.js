    var ErrorStorage = function(expireAfterDays) {        if (this.constructor._Singleton) {            return this;        } else {            this.constructor._Singleton = this;        }        this.__storage;        this.__expires;        this.__retrieveFromCookies(expireAfterDays);    };    ErrorStorage.prototype.__retrieveFromCookies = function(expireAfterDays) {        this.__storage = [];        var storedData = this.__getCookie('shiterator');        if (storedData) {            this.__storage = storedData.split('/');        }        var expirationTimestamp = this.__storage.shift();        if (!expirationTimestamp) {            expirationTimestamp = new Date((new Date()).getTime() + expireAfterDays * 1000 * 60 * 60 * 24);        }        this.__expires = this.__expires = expirationTimestamp;    };        ErrorStorage.prototype.__setCookie = function(name, value, expires, path, domain, secure) {        var today = new Date();        today.setTime(today.getTime());        var expires_date = new Date(expires);        document.cookie = name + "=" + encodeURIComponent(value) +                          (expires ? ";expires=" + expires_date.toGMTString() : "") +                          (path ? ";path=" + path : "") +                          (domain ? ";domain=" + domain : "") +                          (secure ? ";secure" : "");    };    ErrorStorage.prototype.__getCookie = function(check_name) {        var allCookies = document.cookie.split(';');        var tempCookie = '';        var cookieName = '';        var cookieValue = '';        for (var i = 0, len = allCookies.length; i < len; ++i) {            tempCookie = allCookies[i].split('=');            cookieName = tempCookie[0].replace(/^\s+|\s+$/g, '');            if (cookieName === check_name) {                if (tempCookie.length > 1) {                    cookieValue = decodeURIComponent(tempCookie[1].replace(/^\s+|\s+$/g, ''));                }                return cookieValue;            }        }        return null;    };    ErrorStorage.prototype.__storeInCookies = function() {        var cookie = [this.__expires].concat(this.__storage).join('/');        this.__setCookie('shiterator', cookie, this.__expires);    };    ErrorStorage.prototype.has = function(key) {        return this.__storage.indexOf(key) !== -1;    };    ErrorStorage.prototype.put = function(key) {        this.__storage.push(key);        this.__storeInCookies();    };